@(folders : List[org.orbisgis.server.mapcatalog.Folder], contexts : List[org.orbisgis.server.mapcatalog.OWSContext], path : List[org.orbisgis.server.mapcatalog.Folder], root : org.orbisgis.server.mapcatalog.Workspace)

@import helper.twitterBootstrap._

@javamain("MapCatalog","OrbisGIS services") {
<div class="container">
    <div class="page-header">
        <h1>
            <img src="@routes.Assets.at("images/OrbisMapCatalog.png")" alt="Map Catalog"></img>
        </h1>
    </div>
</div>
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span5" id="navigate" style="background-color:#61a8df;padding-left: 5px">
            <ul class="nav nav-tabs" style="margin-top:2%">
                <li @if(root.getAll_read()=="0"){class="active"}>
                <a href="@routes.MapCatalogC.myWorkspaces()"><h4>My workspaces</h4></a>
                </li>
                <li @if(root.getAll_read()=="1"){class="active"}>
                <a href="@routes.MapCatalogC.index()"><h4>All workspaces</h4></a>
                </li>
            </ul>
            <form class="form-search" action="routes.MapCatalogC.searchFromParent(root.getId_workspace(), path.get(path.size()-1).getId_folder()">
                <input type="text" class="input-medium search-query" placeholder="Search a folder or a context">
                <button type="submit" class="btn">Search</button>
            </form>
            <div class="well well-small">
                <img id="imgtoggle" src="@routes.Assets.at("images/add.png")"alt="add"> create a folder here</img>
                <form id="addtoggle" style="margin-left:2%;padding-bottom:2px;display:none" action="@routes.MapCatalogC.createFolderFromParent(root.getId_workspace(), path.get(path.size()-1).getId_folder())">
                    <fieldset>
                        <label>Name</label>
                        <input type="text" placeholder="Type the name of the folder" name="name">
                        <button type="submit" class="btn">Submit</button>
                    </fieldset>
                </form>
            </div>
            <h4>Path</h4>
            <ul class="breadcrumb">
                <li><a href="@routes.MapCatalogC.viewWorkspace(root.getId_workspace())">@root.getName()</a><span class="divider">/</span></li>
                @for(folder <- path){
                <li><a href="@routes.MapCatalogC.viewFolder(folder.getId_root(), folder.getId_folder())">@folder.getName()</a><span class="divider">/</span></li>
                }
            </ul>
            <div class="CSSworktable" style="width:98%;margin-bottom:1%">
                <table>
                    <tr>
                        <td>Name</td>
                        <td>Action</td>
                    </tr>
                    @for(folder <- folders){
                    <tr>
                        <td>
                            <a href="@routes.MapCatalogC.viewFolder(folder.getId_root(), folder.getId_folder())">
                                <img src="@routes.Assets.at("images/document.png")" alt="Map">
                                @folder.getName()
                            </a>
                        </td>
                        <td>
                            <a href="@routes.MapCatalogC.viewFolder(folder.getId_root(), folder.getId_folder())">Open</a>
                        </td>
                    </tr>
                    }
                    @for(context <- contexts){
                    <tr>
                        <td>
                            <img src="@routes.Assets.at("images/map-compass.png")" alt="Map"></img>
                            @context.getTitle()
                        </td>
                        <td>View</td>
                    </tr>
                    }
                </table>
            </div>
            @if(folders.isEmpty()){There is no information to display}
            <br>
            <div class="well well-small" style="margin-right:2%">
                <img src="@routes.Assets.at("images/add.png")" alt="add"> Add a mapcontext</img>
                <form style="margin-left:2%" action="@routes.MapCatalogC.addMapContextFromParent(root.getId_workspace(), path.get(path.size()-1).getId_folder())" enctype="multipart/form-data" method="post">
                    <input type="file" name="mapcontext">
                    <br>
                    <button type="submit" class="btn">Submit</button>
                </form>
            </div>
        </div>
        <div class="span7" id="display" style="background-color:#70c265;">
            <h2>Display</h2>
        </div>
    </div>
</div>
<script src="@routes.Assets.at("javascripts/main.js")" type="text/javascript"></script>
}